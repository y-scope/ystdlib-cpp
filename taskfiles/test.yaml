version: "3"

tasks:
  all:
    desc: "Runs all unit tests."
    cmds:
      - task: "run-all"

  run-*:
    desc: "Runs a unit test target."
    vars:
      LIBRARY: "{{index .MATCH 0}}"
    deps:
      - task: ":build:unit-test-{{.LIBRARY}}"
    cmd: "{{.G_TEST_BIN_DIR}}/unit-test-{{.LIBRARY}}"
